generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id            String   @id @default(uuid())
  email         String   @unique
  password      String
  fullName      String?
  role          String   @default("PLAYER") // Options: ADMIN, TEAM_OWNER, PLAYER
  
  // Cricketer Specific Stats
  playerRole    String?  // Batsman, Bowler, All-Rounder, Wicketkeeper
  battingStyle  String?  // Right-hand, Left-hand
  bowlingStyle  String?  // Right-arm Fast, Leg Spin, etc.
  age           Int?
  matches       Int      @default(0)
  runs          Int      @default(0)
  wickets       Int      @default(0)
  
  teamId        String?
  team          Team?    @relation(fields: [teamId], references: [id])
  createdAt     DateTime @default(now())
}

model Team {
  id            String   @id @default(uuid())
  name          String
  purseBalance  Float    @default(50000000)
  logoUrl       String?
  owner         User[]
  players       Player[] 
}

model Player {
  id            String   @id @default(uuid())
  name          String
  category      String   
  basePrice     Float
  soldPrice     Float?
  isSold        Boolean  @default(false)
  teamId        String?
  team          Team?    @relation(fields: [teamId], references: [id])
}

model Auction {
  id          String   @id @default(uuid())
  name        String   
  budget      Float    
  status      String   @default("PENDING") 
  passcode    String   
  createdAt   DateTime @default(now())
}